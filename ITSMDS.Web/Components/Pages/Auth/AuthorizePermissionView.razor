@using Microsoft.AspNetCore.Components
@inherits ComponentBase

@if (HasPermission())
{
    @ChildContent
}

@code {
    [Parameter] public string Permission { get; set; }
    [Parameter] public RenderFragment ChildContent { get; set; }

    [Inject] private AuthService AuthService { get; set; }

    private bool HasPermission()
    {
        return string.IsNullOrEmpty(Permission) ||
               AuthService.HasPermission(Permission).Result;
    }
}